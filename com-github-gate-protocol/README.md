# 二进制协议的模型由哪些基本元素组成？
## 字段
    - 字段的定义：协议中的最小单位，不可再拆分
    - 字段的类型：位、整数、浮点数、字符串、字节串、时间戳、日期、时间
    - 字段的属性
        位    :    占用的字节数、位定义的数组（位定义：名称、位宽度、默认值、无效值、是否编解码、是否屏蔽）、自定义编解码插件、寄生关系
        整数  :    字段名称、占用的字节数、偏移量、是否是bcd编码、默认值、无效值、字节序、是否编解码、是否屏蔽、自定义编解码插件、寄生关系
        浮点数:    字段名称、占用的字节数、偏移量、是否是bcd编码、默认值、无效值、字节序、是否编解码、是否屏蔽、精度、小数点保留位数、自定义编解码插件、寄生关系
        字符串:    字段名称、字符串编码格式、字符串长度、无效值、默认值、空字符、是否编解码、是否屏蔽、自定义编解码插件、寄生关系
        字节串:    字段名称、字节串长度、无效值、默认值、是否编解码、是否屏蔽、自定义编解码插件、寄生关系
        时间戳:    字段名称、格式（gbt32960、jtt808、utc）、是否编解码、是否屏蔽、自定义编解码插件、寄生关系
        日期  :    字段名称、格式（gbt32960、jtt808、utc）、是否编解码、是否屏蔽、自定义编解码插件、寄生关系
        时间  :    字段名称、格式（gbt32960、jtt808、utc）、是否编解码、是否屏蔽、自定义编解码插件、寄生关系 
## 长度
    - 类型：直接给定值、动态计算
    - 属性：fixValue,Column
## 范围
    - 属性
## 模块
    - 模块的定义： 由字段的组合构成,模块之中可以嵌套其他模块
    - 属性：       组名称、模块名称、组内ID、元素(字段、引用)的集合、是否打平(打平后，编解码结果不采用嵌套的方式，模块内的字段名称为一级索引)
## 数组
    - 数组定义: 由相同元素构成的集合
    - 元素种类：字段、模块引用
    - 排列方式：[数组长度][元素1][元素2]...
    - 数组属性：长度(固定长度、可变长度)、元素种类
## 寄生关系
    - 定义：存在于字段与字段之间、模块与字段之间、数组与字段之间，仅当被寄生的字段值与期望值相同，寄生者(字段、模块、数组)才参与编解码
    - 属性：寄生字段名称、期望值（当被寄生的字段值与期望值符合条件时，寄生者参与编解码）、判断条件、编码时是否自动填充被寄生字段
    - 说明：寄生关系可能会被绑定到引用、数组、字段之上
## 引用
    - 定义：在模块内引用其他模块
    - 属性：寄生关系、组名称、模块ID、模块ID字段属性、模块长度字段属性、
        模式(     
                直接引用-硬引用--将模块直接拿过来填充、
                寄生引用-软引用--模块ID需要动态计算以确认模块身份、
                循环引用--模块数量和模块ID需要动态计算,多个模块按照模块总数量、模块ID、模块长度、模块字段集合 依次排列，多个模块属于同一个组
            )
## 校验规则
    - 定义：协议中的数据校验、加密解密等,可定义在模块之中，实现局部加解密及数据校验
    - 属性：校验范围、验证值范围、校验算法
## 标识(ID)
    - 定义：协议的标识，根据此特征可以区分不同的协议，可以为空
    - 属性：值（字节串）、范围定义、自定义插件
## 版本
    - 定义：协议的版本，可以为空
    - 属性：值（字节串）、范围定义、自定义插件
## 插件
    - 自定义拓展插件,实现模块的单独处理、字段的特殊编解码等

# 二进制协议应如何定义？
    - 版本
    - 校验规则
    - 主模块: 引用

# 运行时不准修改协议的任何元数据，以确保线程间的安全